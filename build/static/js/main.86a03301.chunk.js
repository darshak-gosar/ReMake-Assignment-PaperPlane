(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},25:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),l=a.n(i),c=(a(22),a(23),a(24),a(25),a(6)),s=a.n(c),o=a(8),u=a(11),m=a(12),d=a(7),v=a(15),p=a(14),f=a(34),h=a(35),g=a(36),E="a5d4b72b32ca6d7281a849a4bbe3eacf",k=["https://api.themoviedb.org/3/movie/now_playing?api_key="+E,"https://api.themoviedb.org/3/genre/movie/list?api_key="+E],y=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(k[0]),fetch(k[1])]);case 2:return t=e.sent,e.abrupt("return",Promise.all(t.map((function(e){return e.json()}))).catch((function(e){return console.log("A promise failed to resolve",e),e})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=a(13),N=a.n(b),L=function(e){return r.a.createElement("div",{className:"filter"},r.a.createElement("h3",null,"Rating"),r.a.createElement("div",{className:"slider orientation-reversed"},r.a.createElement("div",{className:"slider-group"},r.a.createElement("div",{className:"slider-horizontal"},r.a.createElement(N.a,{min:0,max:10,step:.5,value:e.currentValue,labels:{0:"0",5:"5",10:"10"},onChange:e.change})))))},_=function(e){return r.a.createElement("div",{className:"card style_1"},r.a.createElement("div",{className:"image"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("a",{className:"image",href:"#",title:e.movie.title},r.a.createElement("img",{className:"poster lazyload lazyloaded",alt:"",src:"https://image.tmdb.org/t/p/w500/"+e.movie.poster_path,"data-loaded":"true"})))),r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,r.a.createElement("a",{href:"#",title:e.movie.title},e.movie.title)),r.a.createElement("p",null,r.a.createElement("b",null,"Genres: "),e.clicked(e.movie.genre_ids)),r.a.createElement("p",null,r.a.createElement("b",null,"Rating: "),e.movie.vote_average)))},w=function(e){return r.a.createElement("section",{id:"media_results",className:"panel"},r.a.createElement("div",{className:"media_items"},r.a.createElement("div",{className:"page_wrapper"},r.a.createElement(f.a,null,r.a.createElement(h.a,null,e.movieList&&e.movieList.length>0?e.movieList.map((function(t){return r.a.createElement(g.a,{key:t.id,lg:3,md:6,sm:6,xs:12},r.a.createElement(_,{key:t.id,movie:t,clicked:e.click}))})):r.a.createElement("div",null,"Sorry No Result"))))))},x=function(e){return r.a.createElement("div",{className:"filter"},r.a.createElement("h3",null,"Genres"),r.a.createElement("ul",{id:"genres",className:"multi_select text"},e.genureList.map((function(t){return r.a.createElement("li",{onClick:function(){return e.click(t.id)},className:-1!==e.activeLinks.indexOf(t.id)?"selected":"",key:t.id,"data-value":t.id},r.a.createElement("a",{href:"#"},t.name))}))))},j=function(){return r.a.createElement("div",{className:"loader"})},O=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).filterMovies=function(e,t,a){return e.filter((function(e){return!(e.vote_average<t)&&!!a.every((function(t){return e.genre_ids.includes(t)}))}))},n.rangeFilterChange=function(e){n.setState((function(t,a){var r=n.filterMovies(t.moviesList,e,t.activeLink);return{value:e,movies:r.sort((function(e,t){return t.popularity-e.popularity}))}}))},n.state={error:null,isLoaded:!1,movies:[],genres:[],activeLink:[],value:3,moviesList:[]},n.getGenres=n.getGenres.bind(Object(d.a)(n)),n.handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a=[],t[1].genres.map((function(e){t[0].results.filter((function(t){t.genre_ids.includes(e.id)&&!a.some((function(t){return t.id===e.id}))&&a.push(e)}))})),n=t[0].results.filter((function(e){return e.vote_average>=r.state.value})),this.setState({isLoaded:!0,movies:n.sort((function(e,t){return t.popularity-e.popularity})),genres:a,value:3,moviesList:t[0].results});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getGenres",value:function(e){var t=this.state.genres.filter((function(t){return e.includes(t.id)}));return Object.keys(t).map((function(e){return t[e].name})).join()}},{key:"handleClick",value:function(e){var t=this;this.setState((function(a,n){var r=a.activeLink.concat([])||[],i=r.indexOf(e);return-1===i?r.push(e):r.splice(i,1),{activeLink:r,movies:t.filterMovies(a.moviesList,a.value,r).sort((function(e,t){return t.popularity-e.popularity}))}}))}},{key:"updateData",value:function(e,t){var a=e;return this.updateLink.map((function(e){a=t.filter((function(t){return t.genre_ids.includes(e)}))})),a}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.activeLink;return r.a.createElement(f.a,{className:"custom-conatiner"},this.state.isLoaded?r.a.createElement(h.a,null,r.a.createElement(g.a,{lg:3,md:4,sm:12,xs:12},r.a.createElement("div",{className:"filter_panel card"},r.a.createElement(x,{activeLinks:a,genureList:this.state.genres,click:this.handleClick}),r.a.createElement(L,{currentValue:t,change:this.rangeFilterChange}))),r.a.createElement(g.a,{lg:9,md:8,sm:12,xs:12},r.a.createElement(w,{movieList:this.state.movies,click:this.getGenres}))):r.a.createElement(j,null))}}]),a}(r.a.Component);var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"ReMake Assignment: PaperPlane")),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.86a03301.chunk.js.map