(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,a){e.exports=a(35)},21:function(e,t,a){},22:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(8),s=a.n(i),l=(a(19),a(20),a(21),a(22),a(9)),c=a(10),u=a(13),o=a(12),m=a(37),d=a(38),p=a(39),h=a(11),v=a.n(h),f=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).currentValues={},n.updateLink=[],n.updatedCurrentValues={},n.rangeFilterChange=function(e){var t,a=e,r=n.updatedCurrentValues;t=n.updateLink&&n.updateLink.length>0?r.filter((function(e){return e.vote_average>=a})):n.currentValues.filter((function(e){return e.vote_average>=a})),n.sortByPriceDesc(),n.setState({movies:t,value:a})},n.state={error:null,isLoaded:!1,movies:[],genres:[],activeLink:[],value:3},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=a5d4b72b32ca6d7281a849a4bbe3eacf"),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=a5d4b72b32ca6d7281a849a4bbe3eacf")]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){e.currentValues=t[0].results,e.setState({isLoaded:!0,movies:t[0].results.sort((function(e,t){return t.popularity-e.popularity})),genres:t[1].genres,value:3})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"getGenres",value:function(e){var t=this.state.genres.filter((function(t){return e.includes(t.id)}));return Object.keys(t).map((function(e){return t[e].name})).join()}},{key:"sortByPriceDesc",value:function(){var e=this;this.setState((function(t){e.state.movies.sort((function(e,t){return t.popularity-e.popularity}))}))}},{key:"handleClick",value:function(e){var t=this.currentValues,a=this.updateLink.indexOf(e);if(this.updateLink&&0===this.updateLink.length)this.updateLink.push(e),t=this.updateData(t,this.state.movies),this.updatedCurrentValues=t;else if(this.updateLink&&this.updateLink.length>0)if(-1===a)this.updateLink.push(e),t=this.updateData(t,this.state.movies),this.updatedCurrentValues=t;else{this.updateLink.splice(a,1);var n=this.currentValues;this.updateLink.map((function(e){n=n.filter((function(t){return t.genre_ids.includes(e)}))})),t=n,this.updatedCurrentValues=t}this.sortByPriceDesc(),this.setState({activeLink:this.updateLink,movies:t})}},{key:"updateData",value:function(e,t){var a=e;return this.updateLink.map((function(e){a=t.filter((function(t){return t.genre_ids.includes(e)}))})),a}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.activeLink;return r.a.createElement(m.a,{className:"custom-conatiner"},r.a.createElement(d.a,null,r.a.createElement(p.a,{md:3,sm:12,xs:12},r.a.createElement("div",{className:"filter_panel card"},r.a.createElement("div",{className:"filter"},r.a.createElement("h3",null,"Genres"),r.a.createElement("ul",{id:"genres",className:"multi_select text"},this.state.genres.map((function(t){return r.a.createElement("li",{onClick:function(){return e.handleClick(t.id)},className:-1!==n.indexOf(t.id)?"selected":"",key:t.id,"data-value":t.id},r.a.createElement("a",{className:"no_click",href:"#"},t.name))})))),r.a.createElement("div",{className:"filter"},r.a.createElement("h3",null,"Rating"),r.a.createElement("div",{className:"slider orientation-reversed"},r.a.createElement("div",{className:"slider-group"},r.a.createElement("div",{className:"slider-horizontal"},r.a.createElement(v.a,{min:0,max:10,step:.5,value:a,labels:{0:"0",5:"5",10:"10"},onChange:this.rangeFilterChange}))))))),r.a.createElement(p.a,{md:9,sm:12,xs:12},r.a.createElement("div",{className:"no_pad"},r.a.createElement("section",{id:"media_results",className:"panel"},r.a.createElement("div",{className:"media_items results"},r.a.createElement("div",{id:"page_1",className:"page_wrapper"},this.state.movies.map((function(t){return r.a.createElement("div",{key:t.id,className:"card style_1"},r.a.createElement("div",{className:"image"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("a",{className:"image",href:"#",title:t.title},r.a.createElement("img",{className:"poster lazyload lazyloaded",alt:"",src:"https://image.tmdb.org/t/p/w500/"+t.poster_path,"data-loaded":"true"})))),r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,r.a.createElement("a",{href:"#",title:t.title},t.title)),r.a.createElement("p",null,r.a.createElement("b",null,"Genres: "),e.getGenres(t.genre_ids)),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"Rating: "),t.vote_average)))})))))))))}}]),a}(r.a.Component);var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"ReMake Assignment: PaperPlane")),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.b6822dd7.chunk.js.map